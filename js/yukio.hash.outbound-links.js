(function(){'use strict';var b=window.location,a=window.document,c=a.currentScript,l=c.getAttribute('data-api')||o(c),k=window.localStorage.yukio_ignore,h,j,f;function g(a){console.warn('Ignoring Event: '+a)}function o(a){return new URL(a.src).origin+'/api/event'}function e(h,e){var d,f;if(/^localhost$|^127(\.[0-9]+){0,2}\.[0-9]+$|^\[::1?\]$/.test(b.hostname)||b.protocol==='file:')return g('localhost');if(window.phantom||window._phantom||window.__nightmare||window.navigator.webdriver||window.Cypress)return;if(k=="true")return g('localStorage flag');d={},d.n=h,d.u=b.href,d.d=c.getAttribute('data-domain'),d.r=a.referrer||null,d.w=window.innerWidth,e&&e.meta&&(d.m=JSON.stringify(e.meta)),e&&e.props&&(d.p=JSON.stringify(e.props)),d.h=1,f=new XMLHttpRequest,f.open('POST',l,!0),f.setRequestHeader('Content-Type','text/plain'),f.send(JSON.stringify(d)),f.onreadystatechange=function(){f.readyState==4&&e&&e.callback&&e.callback()}}function d(){h=b.pathname,e('pageview')}function m(){!h&&a.visibilityState==='visible'&&d()}function i(c){for(var a=c.target,e=c.type=="auxclick"&&c.which==2,d=c.type=="click";a&&(typeof a.tagName=='undefined'||a.tagName.toLowerCase()!='a'||!a.href);)a=a.parentNode;a&&a.href&&a.host&&a.host!==b.host&&((e||d)&&yukio('Outbound Link: Click',{props:{url:a.href}}),(!a.target||a.target.match(/^_(self|parent|top)$/i))&&!(c.ctrlKey||c.metaKey||c.shiftKey)&&d&&(setTimeout(function(){b.href=a.href},150),c.preventDefault()))}function n(){a.addEventListener('click',i),a.addEventListener('auxclick',i)}window.addEventListener('hashchange',d),n(),j=window.yukio&&window.yukio.q||[],window.yukio=e;for(f=0;f<j.length;f++)e.apply(this,j[f]);a.visibilityState==='prerender'?a.addEventListener("visibilitychange",m):d()})()